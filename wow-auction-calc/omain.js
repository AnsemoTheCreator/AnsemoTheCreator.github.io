const _0x5db4=['1362419GjATbl','unit_price','428174cGAmUz','getStaticAsync','minimum-sell-price-value','auctions','recipes','466601rPpRQr','search/item?name.en_US=','classList','data','getAuctionsAsync','name','_getRequestAsync','getDynamicAsync','reagent-table','c\x20(','clientId','item/','added-recipes-list','setRequestHeader','value','?locale=en_US','732077ksxVgn','postAsync','Basic\x20','then','onload','dynamic-eu','clientSecret','send','search/connected-realm?realms.name.en_US=','table','BASE_URL','categories','createElement','resolve','3125dMlAgT','innerHTML','sell_price','option','./professions.json','getTokenAsync','skill_tiers','price','floor','profession-selection','item_subclass','login-form','Login\x20failed!','stormscale','length','ceil','get','reagents','/auctions','getRealmByNameAsync','72413Dsezhy','reagent','toString','responseText','recipe-selection','item','namespace=','add','63xCTrbp','https://eu.api.blizzard.com/data/wow/','parse','includes','results','recipe/','profession/','keys','push','appendChild','getItemAsync','quantity','4wIkNdy','207XxSZTg','46wvyiYU','read','static-eu','text','getElementById','access_token','getProfessionSkillTierAsync','skilltier-selection','status','tokenUrl','1459iIsXRK','open','Authorization','innerText','token','forEach','stringify','getRecipeAsync','category-selection'];const _0x25cf=function(_0x283e0e,_0x1fed30){_0x283e0e=_0x283e0e-0x1b3;let _0x5db416=_0x5db4[_0x283e0e];return _0x5db416;};const _0x34b01d=_0x25cf;(function(_0x160df9,_0x17137e){const _0x473afb=_0x25cf;while(!![]){try{const _0x475f29=-parseInt(_0x473afb(0x1ca))+parseInt(_0x473afb(0x1b6))*parseInt(_0x473afb(0x1ef))+-parseInt(_0x473afb(0x1d1))*parseInt(_0x473afb(0x1b5))+-parseInt(_0x473afb(0x1cc))+parseInt(_0x473afb(0x1e1))+parseInt(_0x473afb(0x1c1))*-parseInt(_0x473afb(0x20b))+-parseInt(_0x473afb(0x1b7))*-parseInt(_0x473afb(0x203));if(_0x475f29===_0x17137e)break;else _0x160df9['push'](_0x160df9['shift']());}catch(_0x58004f){_0x160df9['push'](_0x160df9['shift']());}}}(_0x5db4,0xeaa0c));var profSelection=getById(_0x34b01d(0x1f8)),skilltierSelection=getById(_0x34b01d(0x1be)),categorySelection=getById(_0x34b01d(0x1c9)),recipeSelection=getById(_0x34b01d(0x207)),totalCostElement=getById('total-cost-value'),minimumSellPriceElement=getById(_0x34b01d(0x1ce)),addedRecipesElement=getById(_0x34b01d(0x1dd)),wowApiClient=null,professions=null,currentSkillTier=null,addedRecipes=[];function main(_0xeca7f7,_0x15e659){const _0x208716=_0x34b01d;wowApiClient=new WowApiClient(_0xeca7f7,_0x15e659),wowApiClient['getTokenAsync']()[_0x208716(0x1e4)](async()=>{const _0x5f4ad3=_0x208716;await _loadAuctionsData(),addProfessionOptions(),getById(_0x5f4ad3(0x1fa))['remove']();},_0x4256c0=>{const _0x354d89=_0x208716;alert(_0x354d89(0x1fb)),wowApiClient=null;});}function addProfessionOptions(){const _0x4b5d19=_0x34b01d;let _0x55c09a=FileAccessor['read'](_0x4b5d19(0x1f3));professions=JSON[_0x4b5d19(0x20d)](_0x55c09a);let _0x580b45=getById(_0x4b5d19(0x1f8));Object[_0x4b5d19(0x212)](professions)[_0x4b5d19(0x1c6)]((_0x1f1670,_0x55cded)=>{const _0x5b5ed8=_0x4b5d19;let _0xdcf1f=document['createElement'](_0x5b5ed8(0x1f2));_0xdcf1f[_0x5b5ed8(0x1df)]=professions[_0x1f1670]['id'],_0xdcf1f[_0x5b5ed8(0x1ba)]=_0x1f1670,_0x580b45[_0x5b5ed8(0x20a)](_0xdcf1f);}),onProfessionSelection();}function onProfessionSelection(){const _0x4f1b81=_0x34b01d;Object[_0x4f1b81(0x212)](professions)[_0x4f1b81(0x1c6)]((_0x3c72e4,_0x1e1897)=>{const _0x1a7df9=_0x4f1b81;if(professions[_0x3c72e4]['id']==profSelection[_0x1a7df9(0x1df)]){let _0x33c689=professions[_0x3c72e4][_0x1a7df9(0x1f5)];skilltierSelection[_0x1a7df9(0x1f0)]='';for(let _0x12f929 of _0x33c689){let _0x44f3e9=document[_0x1a7df9(0x1ed)](_0x1a7df9(0x1f2));_0x44f3e9[_0x1a7df9(0x1df)]=_0x12f929['id'],_0x44f3e9[_0x1a7df9(0x1ba)]=_0x12f929['name'],skilltierSelection[_0x1a7df9(0x20a)](_0x44f3e9);}}}),onSkilltierSelection();}function onSkilltierSelection(){(async()=>{const _0x285c6d=_0x25cf;currentSkillTier=await wowApiClient[_0x285c6d(0x1bd)](+profSelection[_0x285c6d(0x1df)],+skilltierSelection[_0x285c6d(0x1df)]);if(currentSkillTier==null||currentSkillTier==undefined)return;categorySelection['innerHTML']='';for(let _0x2314f5 of currentSkillTier[_0x285c6d(0x1ec)]){let _0x3b1fd3=document[_0x285c6d(0x1ed)](_0x285c6d(0x1f2));_0x3b1fd3[_0x285c6d(0x1df)]=_0x2314f5[_0x285c6d(0x1d6)],_0x3b1fd3['text']=_0x2314f5[_0x285c6d(0x1d6)],categorySelection[_0x285c6d(0x20a)](_0x3b1fd3);}recipeSelection[_0x285c6d(0x1f0)]='';for(let _0x3d1877 of currentSkillTier[_0x285c6d(0x1ec)]){if(_0x3d1877['name']==categorySelection[_0x285c6d(0x1df)])for(let _0x1f4f0b of _0x3d1877[_0x285c6d(0x1d0)]){let _0x216221=document[_0x285c6d(0x1ed)]('option');_0x216221[_0x285c6d(0x1df)]=_0x1f4f0b['id']['toString'](),_0x216221[_0x285c6d(0x1ba)]=_0x1f4f0b[_0x285c6d(0x1d6)],recipeSelection[_0x285c6d(0x20a)](_0x216221);}}onCategorySelection();})();}function onCategorySelection(){const _0x4688f0=_0x34b01d;recipeSelection[_0x4688f0(0x1f0)]='';for(let _0x5bdfdc of currentSkillTier[_0x4688f0(0x1ec)]){if(_0x5bdfdc[_0x4688f0(0x1d6)]==categorySelection[_0x4688f0(0x1df)])for(let _0x4eeca0 of _0x5bdfdc[_0x4688f0(0x1d0)]){let _0x1dc227=document[_0x4688f0(0x1ed)]('option');_0x1dc227['value']=_0x4eeca0['id'][_0x4688f0(0x205)](),_0x1dc227[_0x4688f0(0x1ba)]=_0x4eeca0[_0x4688f0(0x1d6)],recipeSelection[_0x4688f0(0x20a)](_0x1dc227);}}}function getById(_0x249936){const _0x270928=_0x34b01d;return document[_0x270928(0x1bb)](_0x249936);}function _loadAuctionsData(){(async()=>{const _0x1e6e3f=_0x25cf;let _0x589a53=await wowApiClient[_0x1e6e3f(0x202)](_0x1e6e3f(0x1fc)),_0x3a1655=await wowApiClient[_0x1e6e3f(0x1d5)](_0x589a53['id']);})();}function addRecipeToList(){const _0x4d5938=()=>{const _0x2cd7a2=_0x25cf;let _0x572b32,_0x2ab366=0x0;for(let _0x487d0a of currentSkillTier[_0x2cd7a2(0x1ec)]){if(_0x487d0a[_0x2cd7a2(0x1d6)]==categorySelection[_0x2cd7a2(0x1df)])for(let _0x583f3a of _0x487d0a[_0x2cd7a2(0x1d0)]){if(_0x583f3a['id']==+recipeSelection['value'])return _0x583f3a;}}},_0x4cb2ec=_0x2437b8=>{const _0x4933d3=_0x25cf;let _0x9f006f=wowApiClient[_0x4933d3(0x1cf)],_0x5548b3=-0x1;for(let _0x2db51f of _0x9f006f){_0x2db51f[_0x4933d3(0x208)]['id']==_0x2437b8['id']&&((_0x5548b3==-0x1||_0x2db51f[_0x4933d3(0x1cb)]<_0x5548b3)&&(_0x5548b3=_0x2db51f[_0x4933d3(0x1cb)]));}if(_0x2437b8[_0x4933d3(0x1f9)][_0x4933d3(0x1d6)]=='Other'&&_0x2437b8[_0x4933d3(0x1f1)]<_0x5548b3)_0x5548b3=_0x2437b8['sell_price'];return _0x5548b3;};(async()=>{const _0x484345=_0x25cf;let _0x148a27=_0x4d5938(),_0x289b0b=await wowApiClient['getRecipeAsync'](_0x148a27['id']),_0x35af27=0x0,_0xd067ca=[];for(let _0x529f3f of _0x289b0b[_0x484345(0x200)]){let _0x139e46=await wowApiClient[_0x484345(0x1b3)](_0x529f3f['reagent']['id']),_0x1f73f6=_0x4cb2ec(_0x139e46);_0x35af27+=_0x1f73f6*_0x529f3f[_0x484345(0x1b4)],_0xd067ca[_0x484345(0x213)]({'name':_0x529f3f[_0x484345(0x204)][_0x484345(0x1d6)],'price':_0x1f73f6,'quantity':_0x529f3f[_0x484345(0x1b4)]});}addedRecipes[_0x484345(0x213)]({'name':_0x289b0b[_0x484345(0x1d6)],'price':_0x35af27,'reagents':_0xd067ca}),updateTables();})();}function clearAddedRecipes(){addedRecipes=[],updateTables();}function updateTables(){const _0x541cc2=_0x34b01d;let _0x28beb0=0x0,_0x595dc6=0x0;const _0x3c9623=_0x124345=>{const _0x3d3ed7=_0x25cf;let _0x1502a7=document['createElement'](_0x3d3ed7(0x1ea));_0x1502a7[_0x3d3ed7(0x1d3)][_0x3d3ed7(0x20a)](_0x3d3ed7(0x1d9));for(let _0x2c270a of _0x124345[_0x3d3ed7(0x200)]){let _0x363b0e=document[_0x3d3ed7(0x1ed)]('tr'),_0x350a83=document[_0x3d3ed7(0x1ed)]('td'),_0x3c5b39=document[_0x3d3ed7(0x1ed)]('td'),_0x24d09a=document[_0x3d3ed7(0x1ed)]('td');_0x1502a7['appendChild'](_0x363b0e),_0x363b0e[_0x3d3ed7(0x214)](_0x350a83),_0x363b0e['appendChild'](_0x3c5b39),_0x363b0e[_0x3d3ed7(0x214)](_0x24d09a),_0x350a83['innerText']=''+_0x2c270a[_0x3d3ed7(0x1b4)]+'x',_0x3c5b39[_0x3d3ed7(0x1c4)]=_0x2c270a[_0x3d3ed7(0x1d6)],_0x24d09a['innerText']=numberToCurrencyString(_0x2c270a[_0x3d3ed7(0x1f6)]);}return _0x1502a7;};addedRecipesElement[_0x541cc2(0x1f0)]='';for(let _0x3def06 of addedRecipes){let _0x475556=document[_0x541cc2(0x1ed)]('tr'),_0x5aa1c3=document['createElement']('td'),_0x5ad040=document[_0x541cc2(0x1ed)]('td'),_0x47d0b9=_0x3c9623(_0x3def06);_0x5ad040[_0x541cc2(0x214)](_0x47d0b9);let _0x12c9f2=document[_0x541cc2(0x1ed)]('td');addedRecipesElement[_0x541cc2(0x214)](_0x475556),_0x475556['appendChild'](_0x5aa1c3),_0x475556[_0x541cc2(0x214)](_0x5ad040),_0x475556[_0x541cc2(0x214)](_0x12c9f2),_0x5aa1c3['innerText']=_0x3def06[_0x541cc2(0x1d6)],_0x12c9f2['innerText']=numberToCurrencyString(_0x3def06[_0x541cc2(0x1f6)]),_0x28beb0+=_0x3def06['price'];}_0x595dc6=Math[_0x541cc2(0x1fe)](_0x28beb0/0.95),totalCostElement[_0x541cc2(0x1c4)]=numberToCurrencyString(_0x28beb0),minimumSellPriceElement[_0x541cc2(0x1c4)]=numberToCurrencyString(_0x595dc6);}function numberToCurrencyString(_0x479fc0){const _0x203eef=_0x34b01d;let _0x3d5ce1=Math[_0x203eef(0x1f7)](_0x479fc0/0x2710),_0x3f2bc0=Math[_0x203eef(0x1f7)](_0x479fc0%0x2710/0x64),_0xd4ad73=_0x479fc0%0x64;return''+_0x3d5ce1+'g\x20'+_0x3f2bc0+'s\x20'+_0xd4ad73+_0x203eef(0x1da)+_0x479fc0+')';}class WowApiClient{constructor(_0x2b816f,_0x48d33e){const _0x5037ca=_0x34b01d;this[_0x5037ca(0x1c0)]='https://eu.battle.net/oauth/token?grant_type=client_credentials',this['BASE_URL']=_0x5037ca(0x20c),this[_0x5037ca(0x1db)]=null,this[_0x5037ca(0x1e7)]=null,this[_0x5037ca(0x1c5)]=null,this[_0x5037ca(0x1cf)]=null,this[_0x5037ca(0x1db)]=_0x2b816f,this[_0x5037ca(0x1e7)]=_0x48d33e;}async[_0x34b01d(0x1f4)](){const _0xb9fa65=_0x34b01d;let _0x2bd1ee=btoa(this[_0xb9fa65(0x1db)]+':'+this[_0xb9fa65(0x1e7)]),_0x1ff973=await HttpRequest[_0xb9fa65(0x1e2)](this['tokenUrl'],[{'name':_0xb9fa65(0x1c3),'value':_0xb9fa65(0x1e3)+_0x2bd1ee}]);return this[_0xb9fa65(0x1c5)]=JSON[_0xb9fa65(0x20d)](_0x1ff973),this[_0xb9fa65(0x1c5)];}['_getRequestAsync'](_0x31d3cc,_0x271eac){const _0x337449=_0x34b01d;if(this['token']===null)return Promise[_0x337449(0x1ee)]('');return HttpRequest[_0x337449(0x1ff)](this[_0x337449(0x1eb)]+_0x31d3cc+(_0x31d3cc[_0x337449(0x20e)]('?')?'&':'?')+_0x337449(0x209)+_0x271eac,[{'name':_0x337449(0x1c3),'value':'Bearer\x20'+this[_0x337449(0x1c5)][_0x337449(0x1bc)]}]);}['getDynamicAsync'](_0x48cba8){const _0x3e8cef=_0x34b01d;return this[_0x3e8cef(0x1d7)](_0x48cba8,_0x3e8cef(0x1e6));}['getStaticAsync'](_0x4d1818){const _0x5b1f39=_0x34b01d;return this[_0x5b1f39(0x1d7)](_0x4d1818,_0x5b1f39(0x1b9));}async[_0x34b01d(0x1d5)](_0x1e2b72){const _0x25498f=_0x34b01d;if(this['auctions']!==null)return Promise[_0x25498f(0x1ee)](this[_0x25498f(0x1cf)]);let _0x2394b2=await this['getDynamicAsync']('connected-realm/'+_0x1e2b72+_0x25498f(0x201)),_0x567f9b=JSON['parse'](_0x2394b2);return this['auctions']=_0x567f9b['auctions'],this[_0x25498f(0x1cf)];}async[_0x34b01d(0x202)](_0x2d8e21){const _0x24c360=_0x34b01d;let _0x1547f4=await this[_0x24c360(0x1d8)](_0x24c360(0x1e9)+_0x2d8e21),_0x256512=JSON['parse'](_0x1547f4),_0x308862=_0x256512['results'];if(_0x308862[_0x24c360(0x1fd)]>0x0)return _0x308862[0x0][_0x24c360(0x1d4)];else return null;}async['getItemByNameAsync'](_0x441282){const _0x7f2440=_0x34b01d;let _0x32b7fd=await this[_0x7f2440(0x1cd)](_0x7f2440(0x1d2)+_0x441282),_0x57b9da=JSON['parse'](_0x32b7fd),_0x4b9bc5=_0x57b9da[_0x7f2440(0x20f)];if(_0x4b9bc5[_0x7f2440(0x1fd)]>0x0)return _0x4b9bc5[0x0][_0x7f2440(0x1d4)];return null;}async[_0x34b01d(0x1b3)](_0x283d33){const _0xd39b21=_0x34b01d;let _0x131e50=await this[_0xd39b21(0x1cd)](_0xd39b21(0x1dc)+_0x283d33+_0xd39b21(0x1e0)),_0x50c31e=JSON[_0xd39b21(0x20d)](_0x131e50);return _0x50c31e;}async['getProfessionSkillTierAsync'](_0x5cef08,_0xaa2439){const _0x2a3cdb=_0x34b01d;let _0x3cd56b=await this['getStaticAsync'](_0x2a3cdb(0x211)+_0x5cef08+'/skill-tier/'+_0xaa2439+_0x2a3cdb(0x1e0)),_0x22bb15=JSON[_0x2a3cdb(0x20d)](_0x3cd56b);return _0x22bb15;}async[_0x34b01d(0x1c8)](_0x33a81e){const _0x3a0ba5=_0x34b01d;let _0x5621ff=await this['getStaticAsync'](_0x3a0ba5(0x210)+_0x33a81e+_0x3a0ba5(0x1e0)),_0x213546=JSON['parse'](_0x5621ff);return _0x213546;}}class FileAccessor{static[_0x34b01d(0x1b8)](_0x344b0c){const _0x36d298=_0x34b01d;let _0x4023f6=new XMLHttpRequest();return _0x4023f6[_0x36d298(0x1c2)]('GET',_0x344b0c,![]),_0x4023f6[_0x36d298(0x1e8)](null),_0x4023f6[_0x36d298(0x206)];}}class HttpRequest{static['postAsync'](_0x5000c2,_0x430ade=[],_0x1ccf67){return new Promise(function(_0x3dc9a3,_0x44238c){const _0x53353f=_0x25cf;let _0x2071c0=new XMLHttpRequest();_0x2071c0['open']('POST',_0x5000c2);for(let _0x37d425 of _0x430ade)_0x2071c0[_0x53353f(0x1de)](_0x37d425[_0x53353f(0x1d6)],_0x37d425[_0x53353f(0x1df)]);_0x2071c0[_0x53353f(0x1e5)]=function(){const _0xe10a64=_0x53353f;_0x2071c0[_0xe10a64(0x1bf)]===0xc8?_0x3dc9a3(_0x2071c0[_0xe10a64(0x206)]):_0x44238c(status);};if(_0x1ccf67!==undefined&&_0x1ccf67!==null)_0x2071c0[_0x53353f(0x1e8)](JSON[_0x53353f(0x1c7)](_0x1ccf67));else _0x2071c0[_0x53353f(0x1e8)]();});}static[_0x34b01d(0x1ff)](_0x4b16db,_0x5c6dd1=[]){return new Promise(function(_0x5d0b76,_0x47d313){const _0x5687b8=_0x25cf;let _0x38992c=new XMLHttpRequest();_0x38992c['open']('GET',_0x4b16db);for(let _0x48cb34 of _0x5c6dd1)_0x38992c[_0x5687b8(0x1de)](_0x48cb34[_0x5687b8(0x1d6)],_0x48cb34[_0x5687b8(0x1df)]);_0x38992c[_0x5687b8(0x1e5)]=function(){const _0x1f5b8e=_0x5687b8;_0x38992c[_0x1f5b8e(0x1bf)]===0xc8?_0x5d0b76(_0x38992c['responseText']):_0x47d313(status);},_0x38992c[_0x5687b8(0x1e8)]();});}}